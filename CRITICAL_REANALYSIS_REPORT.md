# Критический анализ корректности доказательства P≠NP

**Дата**: 26 декабря 2025 г.
**Статус**: Критическая ошибка в аксиоматике (Part A).

## Краткое резюме

В ходе проверки репозитория выявлен фундаментальный изъян в формулировке аксиом Switching Lemma (`pnp3/ThirdPartyFacts/Facts_Switching.lean`). Текущая формализация утверждения `shrinkage_for_AC0` является логически противоречивой (inconsistent). Она позволяет вывести `False` в системе Lean, что делает доказательство тривиально "верным" (из лжи следует что угодно), но математически бессмысленным.

## Описание проблемы

### 1. Слишком сильная аксиома Shrinkage

Аксиома `shrinkage_for_AC0` сформулирована следующим образом:

```lean
axiom shrinkage_for_AC0
    (params : AC0Parameters) (F : Family params.n) :
    ∃ (t : Nat) (ε : Q) (S : Shrinkage params.n),
      S.F = F ∧ ...
```

Здесь `F` — это произвольный список булевых функций (`Family params.n`). Аксиома утверждает, что для **любого** такого семейства существует объект `Shrinkage`, который содержит **общий** (common) частичный алгоритм (Partial Decision Tree, PDT) малой глубины, аппроксимирующий **все** функции из `F` одновременно.

### 2. Отсутствие условия вычислимости

В формулировке отсутствует требование, что функции из семейства `F` действительно вычислимы схемами класса AC⁰ с параметрами `params`.
В корректной математической теореме (например, Håstad's Switching Lemma) утверждение звучит так:
> "Если $f$ вычислима схемой глубины $d$ и размера $M$, то существует случайное ограничение..."

В текущей аксиоме:
> "Для любого семейства $F$ (даже если оно состоит из случайных или самых сложных функций) существует ограничение..."

### 3. Информационно-теоретическое противоречие

Так как аксиома применима к любому семейству, мы можем применить её к **полному множеству всех булевых функций** на $n$ переменных.
*   Количество всех функций: $|F| = 2^{2^n}$.
*   Аксиома гарантирует существование атласа (сжатого представления) с размером словаря $|R| \approx 2^{\text{polylog}(M)}$.
*   Ёмкость такого атласа (количество функций, которые он может аппроксимировать) ограничена сверху величиной $\approx 2^{|R|} \cdot 2^{H(\epsilon) 2^n}$.
*   При стандартных параметрах ($M=1, d=1$, $n \ge 10$) ёмкость атласа строго меньше, чем общее число функций $2^{2^n}$.

Это означает, что аксиома утверждает возможность сжать несжимаемые данные (случайные функции), что невозможно.

## Формальное опровержение

Мной разработан файл `pnp3/Tests/Counterexample.lean`, который формализует этот аргумент внутри Lean.
1.  Определяется семейство `F` всех функций от $n=10$ переменных.
2.  Применяется аксиома `shrinkage_for_AC0`.
3.  Используются доказанные в проекте оценки ёмкости (`Counting.CapacityGap`).
4.  Выводится неравенство: `Capacity < |F|`.
5.  Поскольку атлас должен покрывать всё `F`, получаем противоречие.

## Вывод

Работа содержит фатальную ошибку в формализации внешних фактов. Доказательство P≠NP опирается на противоречивую систему аксиом.
Для исправления необходимо переформулировать `shrinkage_for_AC0`, добавив явное условие: "Для каждой $f \in F$ существует AC0-схема с параметрами `params`, вычисляющая $f$".
Однако такое исправление потребует существенной переработки всей логики построения "Атласа" (SAL), так как текущая конструкция полагается на существование *единого* дерева для всего семейства, что неочевидно для семейства функций, реализуемых *разными* схемами.
