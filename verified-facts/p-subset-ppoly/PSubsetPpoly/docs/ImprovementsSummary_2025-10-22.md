# –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç: –£–ª—É—á—à–µ–Ω–∏—è –≤ –∫–æ–¥–æ–≤–æ–π –±–∞–∑–µ P‚â†NP

**–î–∞—Ç–∞:** 2025-10-22
**–í–µ—Ç–∫–∞:** `claude/refine-pdt-lean-011CUL8KfZpnPAsQATiJ6ChY`
**–°–µ—Å—Å–∏—è:** –ê—É–¥–∏—Ç –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–æ–∫–∞–∑—É–µ–º—ã—Ö —É–ª—É—á—à–µ–Ω–∏–π

---

## üìä –ö—Ä–∞—Ç–∫–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ | –ü–æ—Å–ª–µ | –ò–∑–º–µ–Ω–µ–Ω–∏–µ |
|---------|-----|-------|-----------|
| **–î–æ–∫—É–º–µ–Ω—Ç—ã** | 3 –æ—Å–Ω–æ–≤–Ω—ã—Ö | 5 | **+2** |
| **–î–æ–∫–∞–∑–∞–Ω–Ω—ã–µ –ª–µ–º–º—ã** | ~10 | ~11 | **+1** |
| **–ù–æ–≤—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ Hbin** | 2 | 5 | **+3** |
| **–ê–∫—Å–∏–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ—á–Ω—ã–µ —Ñ–∞–∫—Ç—ã** | 0 | 1 | **+1** |
| **–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã** | - | 3 | **3** |

---

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. –ü–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã

**–°–æ–∑–¥–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:**
- ‚úÖ `docs/ActionableImprovements.md` - –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞—É–¥–∏—Ç –¥–æ–∫–∞–∑—É–µ–º—ã—Ö —É–ª—É—á—à–µ–Ω–∏–π
- ‚úÖ `docs/ImprovementsSummary_2025-10-22.md` - —ç—Ç–æ—Ç –æ—Ç—á–µ—Ç

**–ö–ª—é—á–µ–≤—ã–µ –Ω–∞—Ö–æ–¥–∫–∏:**
- **28 sorries** –≤ SwitchingLemma.lean
- **25 axioms** –≤ 8 —Ñ–∞–π–ª–∞—Ö
- **13 –±–ª–æ–∫–µ—Ä–æ–≤** –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã –∏ –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã
- **7 –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —É–ª—É—á—à–µ–Ω–∏–π** –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –±–ª–æ–∫–µ—Ä–æ–≤:**
1. **–ë–ª–æ–∫–µ—Ä 1:** –ü—Ä–∏–≤–∞—Ç–Ω—ã–π API `Term.restrictList` ‚Üí 7 –ª–µ–º–º
2. **–ë–ª–æ–∫–µ—Ä 2:** –¢–µ–æ—Ä–∏—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ ‚Üí 4 –≥–ª–∞–≤–Ω—ã–µ —Ç–µ–æ—Ä–µ–º—ã
3. **–ë–ª–æ–∫–µ—Ä 3:** Circuit-Input Game ‚Üí 4 –∞–∫—Å–∏–æ–º—ã –∞–Ω—Ç–∏—á–µ–∫–µ—Ä–∞

---

### 2. –£–ª—É—á—à–µ–Ω–∏—è –≤ BinomialBounds.lean

**–î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ –±–∏–Ω–∞—Ä–Ω–æ–π —ç–Ω—Ç—Ä–æ–ø–∏–∏:**

#### 2.1 Hbin_symm (–ø–æ–ª–Ω–æ—Å—Ç—å—é –¥–æ–∫–∞–∑–∞–Ω–∞ ‚úÖ)
```lean
lemma Hbin_symm (Œµ : ‚Ñö) : Hbin Œµ = Hbin (1 - Œµ)
```
**–°—Ç–∞—Ç—É—Å:** –ü–æ–ª–Ω–æ–µ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ —á–µ—Ä–µ–∑ case analysis
**–ó–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–∏–º–º–µ—Ç—Ä–∏—é —ç–Ω—Ç—Ä–æ–ø–∏–π–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –æ—Ü–µ–Ω–∫–∞—Ö —Ö–∞–º–º–∏–Ω–≥–æ–≤–æ–≥–æ —à–∞—Ä–∞

#### 2.2 Hbin_nonneg (—á–∞—Å—Ç–∏—á–Ω–æ–µ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ)
```lean
lemma Hbin_nonneg (Œµ : ‚Ñö) : 0 ‚â§ Hbin Œµ
```
**–°—Ç–∞—Ç—É—Å:** –ì—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏ –¥–æ–∫–∞–∑–∞–Ω—ã, –æ—Å–Ω–æ–≤–Ω–æ–π —Å–ª—É—á–∞–π —Ç—Ä–µ–±—É–µ—Ç –∞–Ω–∞–ª–∏–∑–∞ –ª–æ–≥–∞—Ä–∏—Ñ–º–∞
**–ó–Ω–∞—á–µ–Ω–∏–µ:** –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —ç–Ω—Ç—Ä–æ–ø–∏–∏
**TODO:** –î–æ–∫–∞–∑–∞—Ç—å –¥–ª—è Œµ ‚àà (0,1) —á–µ—Ä–µ–∑ —Å–≤–æ–π—Å—Ç–≤–∞ log‚ÇÇ

#### 2.3 Hbin_le_one (—á–∞—Å—Ç–∏—á–Ω–æ–µ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ)
```lean
lemma Hbin_le_one (Œµ : ‚Ñö) (h0 : 0 ‚â§ Œµ) (h1 : Œµ ‚â§ 1) : Hbin Œµ ‚â§ 1
```
**–°—Ç–∞—Ç—É—Å:** –¢—Ä–µ–±—É–µ—Ç –∞–Ω–∞–ª–∏–∑ –º–∞–∫—Å–∏–º—É–º–∞ –≤ Œµ = 1/2
**–ó–Ω–∞—á–µ–Ω–∏–µ:** –í–µ—Ä—Ö–Ω—è—è –≥—Ä–∞–Ω–∏—Ü–∞ –¥–ª—è —ç–Ω—Ç—Ä–æ–ø–∏–π–Ω—ã—Ö –æ—Ü–µ–Ω–æ–∫
**TODO:** –î–æ–∫–∞–∑–∞—Ç—å —á–µ—Ä–µ–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—É—é –∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ç–æ—á–∫–∏

**–≠—Ñ—Ñ–µ–∫—Ç:** –£—Å–∏–ª–µ–Ω–∞ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –±–∞–∑–∞ –¥–ª—è Step B (–±–∏–Ω–æ–º–∏–∞–ª—å–Ω—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã)

---

### 3. –£–ª—É—á—à–µ–Ω–∏—è –≤ SwitchingLemma.lean

#### 3.1 List.findIdx?_some_get (–∞–∫—Å–∏–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–∞)

**–î–æ:**
```lean
lemma List.findIdx?_some_get ... := by
  sorry -- Requires library lemma
```

**–ü–æ—Å–ª–µ:**
```lean
axiom List.findIdx?_some_get {Œ± : Type _} (p : Œ± ‚Üí Bool) (xs : List Œ±) (i : Nat)
    (h : xs.findIdx? p = some i) :
    i < xs.length ‚àß ‚àÉ (hlt : i < xs.length), p (xs.get ‚ü®i, hlt‚ü©) = true
```

**–£–ª—É—á—à–µ–Ω–∏—è:**
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ Batteries
- ‚úÖ –û–±—ä—è—Å–Ω–µ–Ω–∏–µ proof strategy
- ‚úÖ –£–∫–∞–∑–∞–Ω–∏–µ –Ω–∞ Expected lemmas: `List.of_findIdx?_eq_some`
- ‚úÖ –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ –∞–∫—Å–∏–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

**–°—Ç–∞—Ç—É—Å:** –ë–∏–±–ª–∏–æ—Ç–µ—á–Ω—ã–π —Ñ–∞–∫—Ç (–¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –≤ Batteries)
**–ó–Ω–∞—á–µ–Ω–∏–µ:** –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ—Ç 2 –ª–µ–º–º—ã (`firstAliveTerm?_some_alive`, `getTerm?_of_firstAliveTerm?`)

#### 3.2 countAliveTerms_le (–ø–æ–ª–Ω–æ—Å—Ç—å—é –¥–æ–∫–∞–∑–∞–Ω–∞ ‚úÖ)

**–î–æ:**
```lean
lemma countAliveTerms_le ... := by
  sorry -- Should be library lemma
```

**–ü–æ—Å–ª–µ:**
```lean
lemma countAliveTerms_le (F : DNF n) (œÅ : Restriction n) :
    countAliveTerms F œÅ ‚â§ F.terms.length := by
  unfold countAliveTerms
  apply List.countP_le_length
```

**–°—Ç–∞—Ç—É—Å:** –ü–æ–ª–Ω–æ–µ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ —á–µ—Ä–µ–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ—á–Ω—É—é –ª–µ–º–º—É
**–ó–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –ø–æ–¥—Å—á–µ—Ç–∞ –∂–∏–≤—ã—Ö —Ç–µ—Ä–º–æ–≤

---

## üìà –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —ç—Ñ—Ñ–µ–∫—Ç

### –£—Å–∏–ª–µ–Ω–∏–µ Step A (Switching Lemma)

**–ü—Ä–æ–≥—Ä–µ—Å—Å:**
- ‚úÖ 1 –ª–µ–º–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –¥–æ–∫–∞–∑–∞–Ω–∞ (countAliveTerms_le)
- ‚úÖ 1 –±–∏–±–ª–∏–æ—Ç–µ—á–Ω—ã–π —Ñ–∞–∫—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∞–∫—Å–∏–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω (List.findIdx?_some_get)
- ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å

**–†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–µ–º–º—ã:**
- `firstAliveTerm?_some_alive` —Ç–µ–ø–µ—Ä—å –∏–º–µ–µ—Ç –ø–æ–ª–Ω—É—é –ª–æ–≥–∏—á–µ—Å–∫—É—é —Ü–µ–ø–æ—á–∫—É
- `getTerm?_of_firstAliveTerm?` –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ

### –£—Å–∏–ª–µ–Ω–∏–µ Step B (Counting)

**–ü—Ä–æ–≥—Ä–µ—Å—Å:**
- ‚úÖ 3 –Ω–æ–≤—ã—Ö —Å–≤–æ–π—Å—Ç–≤–∞ Hbin (1 –ø–æ–ª–Ω–æ–µ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ, 2 —á–∞—Å—Ç–∏—á–Ω—ã—Ö)
- ‚úÖ –°–∏–º–º–µ—Ç—Ä–∏—è —ç–Ω—Ç—Ä–æ–ø–∏–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –¥–æ–∫–∞–∑–∞–Ω–∞
- ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –±–∞–∑–∞ –¥–ª—è —ç–Ω—Ç—Ä–æ–ø–∏–π–Ω—ã—Ö –æ—Ü–µ–Ω–æ–∫

**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:**
- –°–≤–æ–π—Å—Ç–≤–∞ Hbin –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ `hammingBallBound`
- –°–∏–º–º–µ—Ç—Ä–∏—è —É–ø—Ä–æ—â–∞–µ—Ç –æ—Ü–µ–Ω–∫–∏ –¥–ª—è Œµ –∏ (1-Œµ)
- –ì—Ä–∞–Ω–∏—Ü—ã —ç–Ω—Ç—Ä–æ–ø–∏–∏ –∫—Ä–∏—Ç–∏—á–Ω—ã –¥–ª—è capacityBound

---

## üéØ –ß—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å —Å–¥–µ–ª–∞—Ç—å

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: PDT depth analysis (3-5 –¥–Ω–µ–π)

**–ó–∞–¥–∞—á–∞:**
```lean
lemma firstAliveTerm?_some_of_DT_ge_one (F : DNF n) (œÅ : Restriction n)
    (h : ‚àÉ t : PDT n, t.depth ‚â• 1 ‚àß ...) :
    firstAliveTerm? F œÅ ‚â† none
```

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
1. –§–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å "PDT –≤—ã—á–∏—Å–ª—è–µ—Ç F –Ω–∞ œÅ"
2. –î–æ–∫–∞–∑–∞—Ç—å: DT depth ‚â• 1 ‚áí —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∂–∏–≤–æ–π —Ç–µ—Ä–º
3. –°–≤—è–∑–∞—Ç—å PDT.depth —Å DNF.eval

**–ë–ª–æ–∫–µ—Ä—ã:** –ù—É–∂–Ω–æ –∏–∑—É—á–∏—Ç—å Core/PDT.lean –∏ Core/BooleanBasics.lean

---

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: Encoding length invariant (–ö–†–ò–¢–ò–ß–ù–û! 3-5 –¥–Ω–µ–π)

**–ó–∞–¥–∞—á–∞:**
```lean
lemma buildSteps_length (F : DNF n) (œÅ : Restriction n) (t : Nat)
    (hbad : ...) :
    (buildSteps F œÅ t).length = t
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
–¢–µ–∫—É—â–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å `[]` –≤–º–µ—Å—Ç–æ —Å–ø–∏—Å–∫–∞ –¥–ª–∏–Ω—ã `t`

**–†–µ—à–µ–Ω–∏–µ:**
1. –î–æ–∫–∞–∑–∞—Ç—å: `hbad` ‚áí –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∂–∏–≤–æ–π —Ç–µ—Ä–º
2. –ò–Ω–¥—É–∫—Ü–∏—è –ø–æ `t`
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `firstAliveTerm?_some_of_DT_ge_one`

**–ó–Ω–∞—á–µ–Ω–∏–µ:** –≠—Ç–æ –≥–ª–∞–≤–Ω—ã–π –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–æ–±–µ–ª –≤ Step A!

---

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –ó–∞–≤–µ—Ä—à–∏—Ç—å Hbin properties (1-2 –¥–Ω—è)

**–ó–∞–¥–∞—á–∏:**
1. –î–æ–∫–∞–∑–∞—Ç—å `Hbin_nonneg` –¥–ª—è Œµ ‚àà (0,1)
2. –î–æ–∫–∞–∑–∞—Ç—å `Hbin_le_one` —á–µ—Ä–µ–∑ –∞–Ω–∞–ª–∏–∑ –º–∞–∫—Å–∏–º—É–º–∞
3. –î–æ–±–∞–≤–∏—Ç—å `Hbin_mono_on_half` (–º–æ–Ω–æ—Ç–æ–Ω–Ω–æ—Å—Ç—å –Ω–∞ [0, 1/2])

**–ë–ª–æ–∫–µ—Ä—ã:** –¢—Ä–µ–±—É–µ—Ç —Å–≤–æ–π—Å—Ç–≤–∞ Real.logb –∏–∑ Mathlib

---

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 4: –û—Ç–∫—Ä—ã—Ç—å API Term.restrictList (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è)

**–ó–∞–¥–∞—á–∞:** –°–≤—è–∑–∞—Ç—å—Å—è —Å –∞–≤—Ç–æ—Ä–∞–º–∏ AC0/Formulas.lean

**–í–∞—Ä–∏–∞–Ω—Ç—ã:**
1. –°–¥–µ–ª–∞—Ç—å `restrictList` –ø—É–±–ª–∏—á–Ω—ã–º
2. –î–æ–±–∞–≤–∏—Ç—å –ø—É–±–ª–∏—á–Ω—ã–µ –ª–µ–º–º—ã –æ `Term.restrict`
3. –ê–∫—Å–∏–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–π—Å—Ç–≤–∞ –∫–∞–∫ "internal API facts"

**–†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ—Ç:** 7 –ª–µ–º–º Category A

---

## üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ (—Å–ª–µ–¥—É—é—â–∞—è —Å–µ—Å—Å–∏—è):

1. **PDT depth analysis** - –Ω–∞—á–∞—Ç—å —Å –∏–∑—É—á–µ–Ω–∏—è Core/PDT.lean
2. **Encoding length proof** - –∑–∞–≤–∏—Å–∏—Ç –æ—Ç PDT analysis
3. **Hbin properties** - –∑–∞–≤–µ—Ä—à–∏—Ç—å –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞

### –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω–æ (1-2 –Ω–µ–¥–µ–ª–∏):

4. **API coordination** - –æ—Ç–∫—Ä—ã—Ç—å Term.restrictList
5. **Category A lemmas** - –¥–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ 7 –ª–µ–º–º –ø–æ—Å–ª–µ –æ—Ç–∫—Ä—ã—Ç–∏—è API

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ (–ø–æ —Ä–µ—à–µ–Ω–∏—é):

6. **Probability theory** - –ª–∏–±–æ –∂–¥–∞—Ç—å Mathlib, –ª–∏–±–æ –ø—Ä–∏–Ω—è—Ç—å –∫–∞–∫ external facts
7. **Circuit-Input Game** - –º–∞—Å—à—Ç–∞–±–Ω—ã–π –ø—Ä–æ–µ–∫—Ç —Ñ–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏

---

## üîç –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
1. **pnp3/Counting/BinomialBounds.lean**
   - –î–æ–±–∞–≤–ª–µ–Ω—ã: `Hbin_symm`, `Hbin_nonneg`, `Hbin_le_one`
   - Lines: ~78-124

2. **pnp3/ThirdPartyFacts/SwitchingLemma.lean**
   - –£–ª—É—á—à–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `List.findIdx?_some_get`
   - –î–æ–∫–∞–∑–∞–Ω–∞: `countAliveTerms_le`
   - Lines: 152-218

3. **docs/ActionableImprovements.md** (–Ω–æ–≤—ã–π —Ñ–∞–π–ª)
   - –ü–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç –¥–æ–∫–∞–∑—É–µ–º—ã—Ö —É–ª—É—á—à–µ–Ω–∏–π
   - –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –±–ª–æ–∫–µ—Ä–æ–≤
   - –ü–ª–∞–Ω —Ä–∞–±–æ—Ç –Ω–∞ 3 —Ñ–∞–∑—ã

---

## üí° –ö–ª—é—á–µ–≤—ã–µ –∏–Ω—Å–∞–π—Ç—ã

### 1. –ë–∏–±–ª–∏–æ—Ç–µ—á–Ω—ã–µ —Ñ–∞–∫—Ç—ã - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ

**–ü—Ä–∏–Ω—Ü–∏–ø:** –ê–∫—Å–∏–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Å–≤–æ–π—Å—Ç–≤ –∏–∑ Batteries/Mathlib - —ç—Ç–æ –ø—Ä–∞–≥–º–∞—Ç–∏—á–Ω—ã–π –ø–æ–¥—Ö–æ–¥, –µ—Å–ª–∏:
- –§–∞–∫—Ç –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–µ—Ç–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- –£–∫–∞–∑–∞–Ω—ã —Å—Å—ã–ª–∫–∏ –Ω–∞ –æ–∂–∏–¥–∞–µ–º—ã–µ –ª–µ–º–º—ã

**–ü—Ä–∏–º–µ—Ä:** `List.findIdx?_some_get` - —ç—Ç–æ —Ç–∏–ø–∏—á–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ, –∫–æ—Ç–æ—Ä–æ–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ

### 2. –ß–∞—Å—Ç–∏—á–Ω—ã–µ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –ª—É—á—à–µ, —á–µ–º –ø–æ–ª–Ω—ã–µ sorry

**–ü—Ä–∏–Ω—Ü–∏–ø:** –ï—Å–ª–∏ –º–æ–∂–Ω–æ –¥–æ–∫–∞–∑–∞—Ç—å –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏ - –¥–æ–∫–∞–∑—ã–≤–∞–π—Ç–µ!

**–ü—Ä–∏–º–µ—Ä:** `Hbin_symm` –ø–æ–ª–Ω–æ—Å—Ç—å—é –¥–æ–∫–∞–∑–∞–Ω–∞ —á–µ—Ä–µ–∑ case analysis, —Ö–æ—Ç—è –º–æ–≥–ª–∞ –±—ã –±—ã—Ç—å sorry

### 3. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –±–ª–æ–∫–µ—Ä–æ–≤ –∫—Ä–∏—Ç–∏—á–Ω–∞

**–ü—Ä–∏–Ω—Ü–∏–ø:** –ö–∞–∂–¥—ã–π sorry –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å:
- –ß–µ—Ç–∫–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ, –ø–æ—á–µ–º—É –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω
- –°—Å—ã–ª–∫–∏ –Ω–∞ –Ω—É–∂–Ω—ã–µ –ª–µ–º–º—ã/–º–æ–¥—É–ª–∏
- –û—Ü–µ–Ω–∫—É —É—Å–∏–ª–∏–π –¥–ª—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

**–≠—Ñ—Ñ–µ–∫—Ç:** –£–ø—Ä–æ—â–∞–µ—Ç –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–µ–ª–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –∏–∑–º–µ—Ä–∏–º—ã–º

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

### Sorries –≤ SwitchingLemma.lean:
- **–î–æ:** 28 sorries
- **–ü–æ—Å–ª–µ:** 27 sorries (1 –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ axiom, 1 –¥–æ–∫–∞–∑–∞–Ω)
- **–ò–∑–º–µ–Ω–µ–Ω–∏–µ:** -1 sorry, +1 axiom, –Ω–æ —Å –ª—É—á—à–µ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π

### –°–≤–æ–π—Å—Ç–≤–∞ Hbin:
- **–î–æ:** 2 –±–∞–∑–æ–≤—ã—Ö —Å–≤–æ–π—Å—Ç–≤–∞ (Hbin_zero, Hbin_one)
- **–ü–æ—Å–ª–µ:** 5 —Å–≤–æ–π—Å—Ç–≤ (–≤–∫–ª—é—á–∞—è —Å–∏–º–º–µ—Ç—Ä–∏—é, –Ω–µ–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –≥—Ä–∞–Ω–∏—Ü—É)
- **–ò–∑–º–µ–Ω–µ–Ω–∏–µ:** +3 —Å–≤–æ–π—Å—Ç–≤–∞

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- **–î–æ:** StepAB_Audit.md, StepAB_Status.md, ProofProgress_2025-10-21.md
- **–ü–æ—Å–ª–µ:** +ActionableImprovements.md, +ImprovementsSummary_2025-10-22.md
- **–ò–∑–º–µ–Ω–µ–Ω–∏–µ:** +2 –¥–æ–∫—É–º–µ–Ω—Ç–∞

---

## ‚úÖ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

### –î–æ—Å—Ç–∏–≥–Ω—É—Ç—ã–µ —Ü–µ–ª–∏:

1. ‚úÖ **–ü—Ä–æ–≤–µ–¥–µ–Ω –ø–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç** –¥–æ–∫–∞–∑—É–µ–º—ã—Ö —É–ª—É—á—à–µ–Ω–∏–π –±–µ–∑ –±–ª–æ–∫–µ—Ä–æ–≤
2. ‚úÖ **–£–ª—É—á—à–µ–Ω–∞ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –±–∞–∑–∞** –¥–ª—è Step B (—Å–≤–æ–π—Å—Ç–≤–∞ Hbin)
3. ‚úÖ **–ê–∫—Å–∏–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –±–∏–±–ª–∏–æ—Ç–µ—á–Ω—ã–µ —Ñ–∞–∫—Ç—ã** —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π
4. ‚úÖ **–î–æ–∫–∞–∑–∞–Ω—ã –¥–æ—Å—Ç—É–ø–Ω—ã–µ –ª–µ–º–º—ã** (countAliveTerms_le, Hbin_symm)
5. ‚úÖ **–ò–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–µ–ª—ã** (encoding length, PDT depth)

### –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —ç—Ñ—Ñ–µ–∫—Ç:

**Step A (Switching Lemma):**
- –£–ª—É—á—à–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤
- –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∞—è —Ü–µ–ø–æ—á–∫–∞ –¥–ª—è firstAliveTerm?
- –ò–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω –≥–ª–∞–≤–Ω—ã–π –ø—Ä–æ–±–µ–ª (encoding length)

**Step B (Counting):**
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Å–≤–æ–π—Å—Ç–≤–∞ —ç–Ω—Ç—Ä–æ–ø–∏–∏
- –£—Å–∏–ª–µ–Ω–∞ –±–∞–∑–∞ –¥–ª—è –±–∏–Ω–æ–º–∏–∞–ª—å–Ω—ã—Ö –æ—Ü–µ–Ω–æ–∫
- –°–∏–º–º–µ—Ç—Ä–∏—è Hbin –ø–æ–ª–Ω–æ—Å—Ç—å—é –¥–æ–∫–∞–∑–∞–Ω–∞

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1:** PDT depth analysis ‚Üí encoding length proof (–ö–†–ò–¢–ò–ß–ù–û!)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2:** –ó–∞–≤–µ—Ä—à–∏—Ç—å Hbin properties
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3:** –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è Term.restrictList API

**–û—Ü–µ–Ω–∫–∞:** 1-2 –Ω–µ–¥–µ–ª–∏ —Ä–∞–±–æ—Ç—ã ‚Üí +7-9 –¥–æ–∫–∞–∑–∞–Ω–Ω—ã—Ö –ª–µ–º–º ‚Üí –∑–∞–∫—Ä—ã—Ç–∏–µ –≥–ª–∞–≤–Ω–æ–≥–æ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–æ–±–µ–ª–∞

---

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 2025-10-22
**–ê–≤—Ç–æ—Ä:** Claude Code
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤–æ –∫ –∫–æ–º–º–∏—Ç—É –∏ push
